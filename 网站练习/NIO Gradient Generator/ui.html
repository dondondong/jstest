<h1>NIO Gradient Generator</h1>
<button id="create">Create</button>
<button id="cancel">Cancel</button>


<script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>

<script>
  const colorThief = new ColorThief();
  const img = document.querySelector('img');

  img.addEventListener("load", function () {
    let color = colorThief.getColor(img);
    console.log(color);
    // [125, 190, 193]
  });

  img.crossOrigin = "Anonymous";
</script>

<script type="module">

  // 输出fill
  document.getElementById('create').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'create-frame' } }, '*')
  }

  // 关闭插件
  document.getElementById('cancel').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
  }

</script>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }

  h1 {
    font-size: 22px;
  }

  .item_title {
    font-size: 14px;
  }
</style>